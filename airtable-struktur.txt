AIRTABLE STRUKTUR - SHL SIMULATORN 2

=== 1. TEAMS (Lag) ===
- team_id (Primary Field) - Single line text - Unik identifierare (ex: "FBK", "FHC")
- team_name - Single line text - Fullständigt lagnamn (ex: "Färjestad BK")
- city - Single line text - Stad (ex: "Karlstad")
- arena - Single line text - Hemmaarena (ex: "Löfbergs Arena")
- founded - Number - Grundat år
- logo_url - URL - Länk till laglogo
- primary_color - Single line text - Primär färg (hex-kod)
- secondary_color - Single line text - Sekundär färg (hex-kod)

Data för import finns i: teams.csv (14 lag)

=== 2. MATCHES (Matcher) ===
- match_id (Primary Field) - Single line text - Unik match-ID (ex: "SHL_abc123")
- date - Date - Matchdatum
- time - Single line text - Matchtid (ex: "19:00") 
- home_team - Link to Teams - Hemmalag (länk till Teams-tabellen)
- away_team - Link to Teams - Bortalag (länk till Teams-tabellen)
- arena - Single line text - Arena där matchen spelas
- home_goals - Number - Mål för hemmalaget (tomt tills match spelas)
- away_goals - Number - Mål för bortalaget (tomt tills match spelas)
- status - Single select - Status: "Scheduled", "Live", "Finished", "Postponed"
- round - Number - Omgång (1-52)
- season - Single line text - Säsong (ex: "2024-2025")

FORMLER:
- winner - Formula: IF(AND({home_goals}, {away_goals}), IF({home_goals} > {away_goals}, {home_team}, IF({away_goals} > {home_goals}, {away_team}, "Draw")), "")
- points_home - Formula: IF(AND({home_goals}, {away_goals}), IF({home_goals} > {away_goals}, 3, IF({away_goals} > {home_goals}, 0, 1)), "")
- points_away - Formula: IF(AND({home_goals}, {away_goals}), IF({away_goals} > {home_goals}, 3, IF({home_goals} > {away_goals}, 0, 1)), "")

Data för import finns i: matches.csv (289 matcher)

=== 3. TEAM_STATS (Lagstatistik) ===
- stats_id (Primary Field) - Autonumber - Automatisk ID
- team - Link to Teams - Lag (länk till Teams-tabellen)
- season - Single line text - Säsong (ex: "2024-2025")
- games_played - Number - Spelade matcher
- wins - Number - Vinster
- losses - Number - Förluster
- draws - Number - Oavgjort
- goals_for - Number - Gjorda mål
- goals_against - Number - Insläppta mål
- points - Number - Poäng (3 för vinst, 1 för oavgjort)

FORMLER:
- goal_difference - Formula: {goals_for} - {goals_against}
- win_percentage - Formula: IF({games_played} > 0, ROUND({wins} / {games_played} * 100, 1), 0)
- points_per_game - Formula: IF({games_played} > 0, ROUND({points} / {games_played}, 2), 0)

Data för import finns i: team_stats.csv (14 lag med aktuell statistik)

=== 4. SIMULATIONS (Simuleringar) ===
- simulation_id (Primary Field) - Autonumber - Automatisk ID
- created_at - Created time - När simuleringen skapades
- user_id - Single line text - Användar-ID (från session eller Google-inlogg)
- name - Single line text - Namn på simuleringen (ex: "Min playoff-prognos")
- description - Long text - Beskrivning av simuleringen
- simulated_matches - Long text (JSON) - Simulerade matchresultat i JSON-format
- is_active - Checkbox - Om simuleringen är aktiv
- is_public - Checkbox - Om simuleringen är publik (visas för andra)

FORMLER:
- match_count - Formula: Räknar antal simulerade matcher från JSON-data
- last_modified - Last modified time - Senast ändrad

=== 5. USERS (Användare) ===
- user_id (Primary Field) - Single line text - Unik användar-ID
- email - Email - E-postadress (för Google OAuth)
- name - Single line text - Användarnamn
- created_at - Created time - Kontot skapat
- last_login - Date - Senaste inloggning
- is_admin - Checkbox - Adminrättigheter (endast tabellen.top@gmail.com)
- is_active - Checkbox - Aktivt konto
- simulations - Link to Simulations - Användarens simuleringar

=== 6. SESSIONS (Sessioner) ===
- session_id (Primary Field) - Single line text - Unik sessions-ID
- user_id - Link to Users - Användare (tom för anonyma sessioner)
- created_at - Created time - Session startad
- expires_at - Date - Session går ut
- data - Long text (JSON) - Sessionsdata i JSON-format
- is_active - Checkbox - Aktiv session

VIEWS (Vyer) för användning:

TEAMS:
- All Teams - Alla lag sorterade alfabetiskt
- By Division - Grupperade efter division (om tillämpligt)

MATCHES:
- Current Week - Aktuell veckas matcher
- Today's Games - Dagens matcher
- Live Games - Pågående matcher
- Finished Games - Slutförda matcher
- By Team - Filtrerat per lag
- Playoffs - Slutspelsmatcher

TEAM_STATS:
- League Table - Huvudtabellen sorterad efter poäng, måldifferens
- Top Scorers - Lag med flest mål
- Best Defense - Lag med färst insläppta mål
- Form Table - Senaste matchernas form

SIMULATIONS:
- My Simulations - Användarens simuleringar
- Public Simulations - Publika simuleringar
- Recent Simulations - Senaste simuleringar

USERS:
- Active Users - Aktiva användare
- Admin Users - Administratörer

SESSIONS:
- Active Sessions - Aktiva sessioner
- Expired Sessions - Utgångna sessioner

API-NYCKLAR BEHÖVS:
- Skapa Airtable Personal Access Token
- Konfigurera Google OAuth för inloggning
- Sätt upp webhook för realtidsuppdateringar (optional)

SÄKERHET:
- Endast tabellen.top@gmail.com har adminrättigheter
- API-nycklar ska lagras som miljövariabler
- Alla publika formulär ska ha rate limiting
- Användardata krypterad i transit och vila